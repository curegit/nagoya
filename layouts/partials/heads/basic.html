<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
{{ $title := printf "%s | %s" .Title site.Title }}
{{ if .IsHome }}
  {{ $title = site.Title }}
{{ else if .IsPage }}
  {{ $title = .Title }}
{{ end }}
<title>{{ $title }}</title>
{{ with partial "functions/description" . }}
  <meta name="description" content="{{ . }}">
{{ end }}
{{ if .Keywords }}
  <meta name="keywords" content="{{ delimit .Keywords ", " }}">
{{ else if and .IsHome site.Params.keywords }}
  <meta name="keywords" content="{{ delimit site.Params.keywords ", " }}">
{{ else if .GetTerms "tags" }}
  <meta name="keywords" content="{{ (index (.GetTerms "tags") 0).Title }}{{ range after 1 (.GetTerms "tags") }}, {{ .Title }}{{ end }}">
{{ end }}
{{ hugo.Generator }}
{{ if .Params.author }}
  <meta name="author" content="{{ .Params.author }}">
{{ else if site.Params.author }}
  <meta name="author" content="{{ site.Params.author }}">
{{ end }}
{{ if .Params.authorLink }}
  <link rel="author" href="{{ .Params.authorLink }}">
{{ else if site.Params.authorLink }}
  <link rel="author" href="{{ site.Params.authorLink }}">
{{ end }}
<link rel="canonical" href="{{ .Permalink }}">
{{ $csss := slice }}
{{ $csss = $csss | append (resources.Get "font.css") }}
{{ $csss = $csss | append (resources.Get "basic.css") }}
{{ $csss = $csss | append (resources.Get "main.css") }}
{{ $csss = $csss | append (resources.Get "color.css") }}
{{ $csss = $csss | append (resources.Get "header.css") }}
{{ $csss = $csss | append (resources.Get "article.css") }}
{{ $csss = $csss | append (resources.Get "article-auxiliary.css") }}
{{ $csss = $csss | append (resources.Get "custom.css") }}
{{ $css := $csss | resources.Concat "bundle.css" | minify | fingerprint }}
<link rel="stylesheet" href="{{ $css.RelPermalink }}">
{{ with .OutputFormats.Get "rss" }}
  {{ printf `<link rel="%s" type="%s" href="%s" title="%s">` .Rel .MediaType.Type .Permalink $title | safeHTML }}
{{ end }}
